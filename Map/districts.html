<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
	<style type="text/css">
		body, html{width: 100%;height: 100%;margin:0;font-family:"微软雅黑";}
		#allmap{height:800px;width:100%;}
		#r-result{width:100%;}
	</style>
	<script type="text/javascript" src="//api.map.baidu.com/api?v=2.0&ak=您的密钥"></script>
	<title>添加行政区划</title>
</head>
<body>
	<div id="allmap"></div>
 	<div id="r-result">
		<input type="button" onclick="getpoints();" value="输出坐标" />
	</div>
</body>
</html>
<script type="text/javascript">
    // 百度地图API功能
    var map = new BMap.Map("allmap");    // 创建Map实例
    map.centerAndZoom(new BMap.Point(120.444965, 31.507457), 13);  // 初始化地图,设置中心点坐标和地图级别
    map.addControl(new BMap.MapTypeControl());   //添加地图类型控件
    map.setCurrentCity("无锡");          // 设置地图显示的城市 此项是必须设置的

    map.enableScrollWheelZoom(true);     //开启鼠标滚轮缩放
    map.enableContinuousZoom(true);    //启用地图惯性拖拽，默认禁用

    map.addControl(new BMap.NavigationControl());  //添加默认缩放平移控件
    map.addControl(new BMap.ScaleControl({ anchor: BMAP_ANCHOR_BOTTOM_LEFT })); //向地图中添加比例尺控件
//------------------------ 显示镇级范围 ------------------
    var polygons = [];
    
    function getBoundary() {
        // var bdary = new BMap.Boundary();
        // bdary.get("无锡市新吴区", function (rs) {       //获取行政区域
        //    //map.clearOverlays();        //清除地图覆盖物       
        //    var count = rs.boundaries.length; //行政区域的点有多少个
        //    if (count === 0) {
        //        alert('未能获取当前输入行政区域');
        //        return;
        //    }
        //    var pointArray = [];
        //    for (var i = 0; i < count; i++) {
        //        var ply = new BMap.Polygon(rs.boundaries[i], { strokeWeight: 2, strokeColor: "#ff0000" }); //建立多边形覆盖物
        //        ply.enableEditing();  //范围可编辑
        //        map.addOverlay(ply);  //添加覆盖物
        //        pointArray = pointArray.concat(ply.getPath());
        //        polygons.push(ply);
        //    }
        //    map.setViewport(pointArray);    //调整视野  
        //    addlabel();
        // });

        let areas = [];
        
        let city = "120.560737,31.482395;120.559407,31.488919;120.550755,31.493499;120.539414,31.496604;120.534447,31.50393;120.52879,31.50992;120.526503,31.510699;120.524165,31.518623;120.530259,31.520217;120.528148,31.524504;120.528763,31.526393;120.532044,31.529791;120.529873,31.532907;120.523077,31.535871;120.520063,31.536885;120.515289,31.540234;120.51153,31.544976;120.508116,31.550838;120.509091,31.558556;120.499981,31.562265;120.493344,31.562879;120.486708,31.565237;120.479082,31.567475;120.473127,31.572565;120.470493,31.572451;120.4645,31.570666;120.458614,31.572763;120.453918,31.578906;120.441706,31.5819;120.428812,31.58574;120.422386,31.586682;120.400243,31.581993;120.401848,31.572696;120.391736,31.579261;120.383401,31.581612;120.375738,31.579173;120.373024,31.576374;120.365071,31.575004;120.356792,31.573092;120.353758,31.574905;120.350755,31.581369;120.348834,31.58075;120.347156,31.580674;120.345405,31.579306;120.344092,31.580056;120.343371,31.580295;120.341565,31.580252;120.340562,31.582146;120.339285,31.583443;120.338042,31.584651;120.335888,31.585543;120.335287,31.585122;120.334192,31.584243;120.329657,31.583906;120.329001,31.584407;120.328032,31.584524;120.327691,31.585216;120.326061,31.586836;120.324666,31.586164;120.324286,31.585425;120.32206,31.587192;120.320482,31.586157;120.319359,31.58525;120.31894,31.582515;120.318497,31.579207;120.318886,31.576625;120.31861,31.573701;120.318662,31.570753;120.320098,31.569377;120.321709,31.567224;120.322369,31.56611;120.323493,31.565223;120.324881,31.565329;120.325477,31.564577;120.32739,31.564179;120.328498,31.564889;120.330194,31.565251;120.33146,31.563699;120.331706,31.5628;120.333023,31.562911;120.336054,31.56322;120.339771,31.56295;120.341311,31.561899;120.34395,31.558424;120.348305,31.552575;120.344368,31.549326;120.34309,31.547844;120.343927,31.546581;120.345201,31.54207;120.3486,31.538925;120.353155,31.534671;120.369051,31.519894;120.363602,31.516211;120.35674,31.513828;120.359031,31.504374;120.361496,31.495438;120.363385,31.484375;120.364957,31.47304;120.365877,31.469151;120.381755,31.465647;120.384663,31.471081;120.390251,31.469798;120.396559,31.466684;120.399773,31.464974;120.401563,31.463831;120.405722,31.460886;120.407812,31.459585;120.411975,31.455383;120.412515,31.450028;120.431642,31.454301;120.436118,31.45114;120.443246,31.447593;120.438496,31.454192;120.461619,31.451775;120.487694,31.455598;120.496876,31.453805;120.502415,31.455219;120.5053,31.460804;120.515291,31.463661;120.522927,31.462688;120.522313,31.468162;120.532819,31.473745;120.543116,31.47352;120.5521,31.477829;120.559089,31.481875;"

        let districtA = "120.333833,31.571459;120.335701,31.572566;120.337138,31.573427;120.338144,31.574043;120.339007,31.574658;120.340013,31.575273;120.340732,31.576258;120.341163,31.57675;120.341881,31.577488;120.343462,31.578842;120.344092,31.580056;120.343371,31.580295;120.341565,31.580252;120.340562,31.582146;120.339285,31.583443;120.338042,31.584651;120.335888,31.585543;120.335287,31.585122;120.334192,31.584243;120.329657,31.583906;120.329001,31.584407;120.328032,31.584524;120.327691,31.585216;120.326061,31.586836;120.324666,31.586164;120.324286,31.585425;120.32206,31.587192;120.320482,31.586157;120.319359,31.58525;120.31894,31.582515;120.318497,31.579207;120.318886,31.576625;120.31861,31.573701;120.318662,31.570753;120.320098,31.569377;120.321709,31.567224;120.323197,31.565674;120.32794,31.568505;120.330671,31.570105;120.332539,31.571212;120.334336,31.571582;"

        let districtB = "120.351224,31.565828;120.352949,31.56669;120.354314,31.567336;120.355428,31.568074;120.356075,31.568382;120.357566,31.569213;120.35744,31.570028;120.357117,31.571289;120.356793,31.573074;120.355823,31.573643;120.354673,31.574335;120.353757,31.574935;120.353452,31.575581;120.352877,31.576781;120.350721,31.581318;120.350038,31.581118;120.348924,31.580765;120.347181,31.580703;120.347092,31.580534;120.346121,31.579949;120.345403,31.579303;120.344828,31.57958;120.344073,31.579273;120.343211,31.578503;120.342492,31.577981;120.341881,31.57755;120.341091,31.576812;120.339941,31.575673;120.343211,31.572289;120.341774,31.573889;120.344792,31.571182;120.346517,31.570689;120.348385,31.568228;120.349247,31.566628;120.350541,31.565521;"

        let districtC = "120.342097,31.56109;120.343822,31.562075;120.344828,31.562659;120.345403,31.562998;120.346445,31.563459;120.348852,31.564628;120.350469,31.565428;120.349283,31.566536;120.348493,31.568105;120.347379,31.569613;120.346517,31.570628;120.344756,31.571151;120.343606,31.572228;120.342133,31.573489;120.340157,31.575335;120.337857,31.57395;120.334048,31.57152;120.334767,31.570689;120.33818,31.566351;120.340193,31.563428;120.341163,31.562352;120.342097,31.561121;"

        

        areas.push(city);

        areas.push(districtA);

        areas.push(districtB);

        areas.push(districtC)

        colors = ["gray", "#fff492", "#98d057", "#e19ee6", "#1ad3da", "#ffc11d", "#98e800", "#b95817", "#03a9f4", "#39d0a4", "#8bbb53"];

        var pointArray = [];
        for (var i = 0; i < areas.length; i++) {
            var ply = new BMap.Polygon(areas[i], { strokeWeight: 2, strokeColor: "#ff0000" }); //建立多边形覆盖物
            ply.setFillColor(colors[i])   //设置多边形的填充颜色
            ply.setFillOpacity(0.35); 

            polygons.push(ply);  //加入多边形数组，以之后获取多边形边界点集
            
            if (i === 4) {
              ply.enableEditing();  //范围可编辑 【编辑的时候开启】
            }

            map.addOverlay(ply);  //添加覆盖物
            pointArray = pointArray.concat(ply.getPath());
        }
        map.setViewport(pointArray);    //调整视野 
    }

    setTimeout(function () {
        getBoundary();
    }, 2000);

    //获取编辑后的边界点集【编辑完后，可以通过 button 来触发这个方法】
    function getpoints() {
        for (var j = 0; j < polygons.length; j++) {
            var polyline =polygons[j];
            var pts = polyline.getPath();
            
            var sss = "";
            for (var i = 0; i < pts.length; i++) {
                sss += pts[i].lng + "," + pts[i].lat + ";";
            }
            console.log(sss);   //【将点集输出到控制台】
        }
    }
</script>